package com.demo.example.Controller;

import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.servlet.view.RedirectView;

import com.demo.example.Entity.Student;

@RestController
public class Controller {
	Student s1;
	@PostMapping("/add")
	public String addStudent(@RequestParam int sid,@RequestParam String sname,@RequestParam String sbranch) {
		this.s1=s1;
		return "Student Added";
		
	}
	@PutMapping("/update")
	public String updateStudent(@RequestParam int sid,@RequestParam String sname,@RequestParam String sbranch) {
		this.s1=s1;
		return "Student updated";
		
	}
	@GetMapping("/view/sid")
	public Student viewStudent(@RequestParam int sid) {
		return s1;
	}
	@DeleteMapping("/remove")
	public String removeStudent(@RequestParam int id)
	{
		s1=null;
		return "Student remove";
	}
	@PostMapping("/handleform")
	 public RedirectView handleForm(@RequestParam String action) {
        switch (action) {
        case "View Student Details":{
        	return new RedirectView("/viewinfo.html");
        }
        case "Add Student":{
        	return new RedirectView("/addstudent.html");
        }
        case "Update Student Details":{
        	return new RedirectView("/updatestudent.html");
        }
        case "Remove Student":{
        	return new RedirectView("/removestudent.html");
        }
        }
		return null;

}
	}
